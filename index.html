<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TumharaDesh — Social & Economic News</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: "Inter", sans-serif; margin:0; padding:0; background:#f7f9fc; color:#111; }
    header { background:#0f1723; color:white; padding:1rem 2rem; }
    header h1 { margin:0; font-size:1.5rem; }
    main { max-width:900px; margin:2rem auto; padding:0 1rem; }
    .post { border-bottom:1px solid #ddd; padding:1rem 0; }
    .post h2 { margin:0; font-size:1.2rem; color:#0f1723; }
    .post small { color:#555; }
    .post p { color:#333; }
    footer { margin-top:2rem; padding:1rem; text-align:center; background:#0f1723; color:white; }
  </style>
</head>
<body>
  <header>
    <h1>TumharaDesh — Social & Economic News</h1>
  </header>

  <main id="posts">
    <p>Loading posts...</p>
  </main>

  <footer>
    <p>© <span id="year"></span> TumharaDesh. All rights reserved.</p>
  </footer>

  <script>
    async function loadPosts() {
      try {
        const response = await fetch("posts/index.json");
        const posts = await response.json();

        const container = document.getElementById("posts");
        container.innerHTML = "";

        posts.forEach(post => {
          const div = document.createElement("div");
          div.className = "post";
          div.innerHTML = `
            <h2><a href="posts/${post.slug}.html">${post.title}</a></h2>
            <small>${new Date(post.date).toDateString()} — ${post.author}</small>
            <p>${post.excerpt}</p>
          `;
          container.appendChild(div);
        });
      } catch (e) {
        document.getElementById("posts").innerHTML = "<p>No posts yet.</p>";
      }
    }
    loadPosts();
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>